@{
    Layout = "_WelcomeLayout";
}

<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento pix</title>
    <link rel="stylesheet" href="@Url.Content("~/css/pagamento/pix.css")">
    <link rel="stylesheet" href="@Url.Content("~/css/fontawesome-free-6.7.2-web/css/all.css")">
    <link rel="stylesheet" href="@Url.Content("~/css/fontawesome-free-6.7.2-web/css/all.min.css")">
    <script src="@Url.Content("~/css/fontawesome-free-6.7.2-web/js/all.js")"></script>
    <script src="@Url.Content("~/css/fontawesome-free-6.7.2-web/js/all.min.js")"></script>
</head>

<body>
    <i onclick="voltar()" class="fa-solid fa-arrow-left fa-2xl"></i>
    <h1>pagamento com pix</h1>
    <p>escaneie o QR code abaixo</p>
    <img src="~/img/tpagamento/qr.png" alt="qr code do pix">

    <p><strong>Total a pagar: <span id="totalPedidoDisplay">R$ 0,00</span></strong></p>

       
    <script>
        function voltar() {
            window.location.href = "@Url.Content("~/Pagamento/tpagamento")";
        }

        // Script para recuperar e exibir o valor do pedido
        document.addEventListener('DOMContentLoaded', function () {
            let totalDoPedido = sessionStorage.getItem("totalPedido");

            if (totalDoPedido) {
                const totalFormatado = parseFloat(totalDoPedido).toLocaleString('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                });
                document.getElementById('totalPedidoDisplay').innerText = totalFormatado;
            } else {
                document.getElementById('totalPedidoDisplay').innerText = 'R$ 0,00';
                console.warn("Total do pedido não encontrado no sessionStorage na página de pagamento Pix.");
            }
        });
    </script>
</body>

</html>